# ============================================================================
# FidduPay - Environment Configuration Template
# ============================================================================
# Copy this to .env and configure for your environment

# ============================================================================
# CORE INFRASTRUCTURE
# ============================================================================

# Database
DATABASE_URL=postgresql://username:password@localhost:5432/fiddupay
DATABASE_MAX_CONNECTIONS=20
DATABASE_TIMEOUT_SECONDS=30

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_MAX_CONNECTIONS=10
REDIS_TIMEOUT_SECONDS=5

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_WORKERS=4
REQUEST_TIMEOUT_SECONDS=30

# ============================================================================
# BLOCKCHAIN CONFIGURATION
# ============================================================================

# Blockchain RPC URLs
# Development: Use testnets
# Production: Use mainnet providers (QuickNode, Alchemy, Infura)
SOLANA_RPC_URL=https://api.devnet.solana.com
ETHEREUM_RPC_URL=https://eth-goerli.g.alchemy.com/v2/your-api-key
BSC_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
ARBITRUM_RPC_URL=https://goerli-rollup.arbitrum.io/rpc
POLYGON_RPC_URL=https://rpc-mumbai.maticvigil.com

# Blockchain Explorer API (Unified)
# Get your API key from: etherscan.io
ETHERSCAN_API_URL=https://api.etherscan.io/v2/api
ETHERSCAN_API_KEY=

# Chain IDs for Etherscan API V2
ETHEREUM_CHAIN_ID=1
BSC_CHAIN_ID=56
POLYGON_CHAIN_ID=137
ARBITRUM_CHAIN_ID=42161

# Blockchain Settings
CONFIRMATION_BLOCKS_SOL=32
CONFIRMATION_BLOCKS_ETH=12
CONFIRMATION_BLOCKS_BSC=15
CONFIRMATION_BLOCKS_POLYGON=30
CONFIRMATION_BLOCKS_ARBITRUM=1

# Transaction Monitoring
BLOCK_MONITOR_INTERVAL_SECONDS=10
TRANSACTION_TIMEOUT_MINUTES=60

# ============================================================================
# PRICING & MARKET DATA
# ============================================================================

# Price API
BYBIT_PRICE_API_URL=https://api.bybit.com
COINBASE_PRICE_API_URL=https://api.coinbase.com/v2
PRICE_CACHE_TTL_SECONDS=30
PRICE_UPDATE_INTERVAL_SECONDS=15

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Encryption Keys (GENERATE NEW KEYS!)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_encryption_key_here
WEBHOOK_SIGNING_KEY=your_webhook_signing_key_here
JWT_SECRET=your_jwt_secret_here

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Account Security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
SESSION_TIMEOUT_HOURS=24
API_KEY_EXPIRY_DAYS=365

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20
RATE_LIMIT_PER_API_KEY=true

# IP Security
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1,::1
BLOCKED_IPS_CACHE_TTL_MINUTES=60

# ============================================================================
# PAYMENT CONFIGURATION
# ============================================================================

# Payment Settings
DEFAULT_PAYMENT_EXPIRATION_MINUTES=15
PAYMENT_CLEANUP_INTERVAL_HOURS=1
PAYMENT_PAGE_BASE_URL=http://localhost:8080

# Fee Configuration
DEFAULT_FEE_PERCENTAGE=1.50
MINIMUM_FEE_USD=0.01
MAXIMUM_FEE_USD=100.00
FEE_CALCULATION_METHOD=percentage

# Payment Limits
MIN_PAYMENT_USD=1.00
MAX_PAYMENT_USD=10000.00
DAILY_PAYMENT_LIMIT_USD=50000.00

# ============================================================================
# MERCHANT CONFIGURATION
# ============================================================================

# Merchant Settings
MERCHANT_REGISTRATION_ENABLED=true
MERCHANT_EMAIL_VERIFICATION_REQUIRED=true
MERCHANT_KYC_REQUIRED=false
MERCHANT_AUTO_APPROVAL=true

# Merchant Limits
MAX_MERCHANTS_PER_IP=5
MERCHANT_API_CALLS_PER_MINUTE=1000
MERCHANT_PAYMENT_LIMIT_USD=100000.00

# Business Verification
BUSINESS_VERIFICATION_REQUIRED=false
BUSINESS_DOCUMENT_UPLOAD_ENABLED=false

# ============================================================================
# WEBHOOK CONFIGURATION
# ============================================================================

# Webhook Settings
WEBHOOK_TIMEOUT_SECONDS=10
WEBHOOK_MAX_RETRIES=5
WEBHOOK_RETRY_DELAY_SECONDS=5
WEBHOOK_BATCH_SIZE=100

# Webhook Security
WEBHOOK_SIGNATURE_REQUIRED=true
WEBHOOK_IP_VALIDATION=false
WEBHOOK_SSL_VERIFICATION=true

# ============================================================================
# WITHDRAWAL CONFIGURATION
# ============================================================================

# Withdrawal Settings
WITHDRAWAL_ENABLED=true
WITHDRAWAL_MIN_AMOUNT_USD=10.00
WITHDRAWAL_MAX_AMOUNT_USD=50000.00
WITHDRAWAL_DAILY_LIMIT_USD=100000.00

# Withdrawal Processing
WITHDRAWAL_AUTO_APPROVAL_LIMIT_USD=1000.00
WITHDRAWAL_MANUAL_REVIEW_REQUIRED=true
WITHDRAWAL_PROCESSING_DELAY_MINUTES=5

# Withdrawal Fees
WITHDRAWAL_FEE_PERCENTAGE=0.50
WITHDRAWAL_MIN_FEE_USD=1.00
WITHDRAWAL_MAX_FEE_USD=50.00

# ============================================================================
# NOTIFICATION CONFIGURATION
# ============================================================================

# Email Configuration
EMAIL_ENABLED=false
EMAIL_FROM=noreply@yourdomain.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_RATE_LIMIT_PER_HOUR=100

# SMS Configuration (Optional)
SMS_ENABLED=false
SMS_PROVIDER=twilio
SMS_API_KEY=
SMS_FROM_NUMBER=

# Push Notifications
PUSH_NOTIFICATIONS_ENABLED=false
FIREBASE_SERVER_KEY=

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Core Features
TWO_FACTOR_ENABLED=true
DEPOSIT_ADDRESS_ENABLED=true
INVOICE_ENABLED=true
MULTI_USER_ENABLED=true

# Advanced Features
ANALYTICS_ENABLED=true
REPORTING_ENABLED=true
AUDIT_LOGGING_ENABLED=true
REAL_TIME_MONITORING_ENABLED=true

# Platform Control
MAINTENANCE_MODE=false
REGISTRATION_DISABLED=false
PAYMENTS_DISABLED=false
WITHDRAWALS_DISABLED=false

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Logging Configuration
RUST_LOG=info,crypto_payment_gateway=debug
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/fiddupay.log
LOG_ROTATION_SIZE_MB=100

# Metrics & Monitoring
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
PERFORMANCE_MONITORING_ENABLED=true

# Error Tracking
ERROR_REPORTING_ENABLED=false
SENTRY_DSN=

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Environment
ENVIRONMENT=development
DEBUG_MODE=false

# Database Migrations
AUTO_MIGRATE=false
SQLX_OFFLINE=false

# Testing
TEST_MODE=false
MOCK_BLOCKCHAIN_ENABLED=false
MOCK_PAYMENTS_ENABLED=false

# ============================================================================
# COMPLIANCE & REGULATORY
# ============================================================================

# KYC/AML
KYC_ENABLED=false
AML_MONITORING_ENABLED=false
SUSPICIOUS_ACTIVITY_THRESHOLD_USD=10000.00

# Reporting
REGULATORY_REPORTING_ENABLED=false
TRANSACTION_REPORTING_THRESHOLD_USD=10000.00

# Data Retention
DATA_RETENTION_DAYS=2555  # 7 years
LOG_RETENTION_DAYS=90
AUDIT_RETENTION_DAYS=2555
